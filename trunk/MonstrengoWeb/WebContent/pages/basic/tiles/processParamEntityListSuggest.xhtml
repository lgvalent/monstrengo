<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<!-- Uma variável 'paramEntityList' (ProcessParamEntityList) deve ser fornecida para esta visão -->
<!-- USO
	<ui:include src="/pages/basic/tiles/processParamEntityListSuggest.xhtml">
           <ui:param name="paramEntityList" value="#{currentProperty}"/>
	</ui:include>
 -->
<p:autoComplete id="findParamEntityList#{paramEntityList.value.info.type.simpleName}"
	required="#{paramEntityList.required}"
	dropdown="false" 
	completeMethod="#{paramEntityList.getList}" var="item12"
	size="40" maxResults="10" minQueryLength="3"
	value="#{paramEntityList.value.runEntity}"
	itemValue="#{item12}"
	itemLabel="#{item12}" converter="EntityConverter"
	title="Comece a digitar para buscar um valor"
	onkeyup="if(event.which == 13){this.select();$('.btn#{paramEntityList.value.info.type.simpleName}').click();}"
	onfocus="setActiveComponent(this)">
</p:autoComplete>

<p:commandButton value="+" ajax="true" update="dataTableList#{paramEntityList.value.info.type.simpleName}" styleClass="btn#{paramEntityList.value.info.type.simpleName}">
	<p:collector value="#{paramEntityList.value.runEntity}"
				addTo="#{paramEntityList.value.collection}" />
</p:commandButton>

<p:dataTable id="dataTableList#{paramEntityList.value.info.type.simpleName}" 
    width="100%"
	value="#{paramEntityList.value.list}"
	var='col' styleClass="tableCollectionUpdate"
	footerClass="tableCollectionUpdateHeader"
	rowClasses="tableViewRowEven,tableViewRowOdd"
	columnClasses="tableViewColumnOdd" style="border-collapse: collapse"
	emptyMessage="(Vazio)">

	<p:column>
		<p:commandLink ajax="false" update="dataTableList">
			<h:graphicImage value="../basic/img/delete.png"
				title="Remove este elemento da lista" style="border:0" />
			<p:collector value="#{col}"
				removeFrom="#{paramEntityList.value.collection}" />
		</p:commandLink>
		<h:selectBooleanCheckbox value="#{col.selected}"/>
		<h:outputText value="#{col}:" title="#{col.info.hint}" />
	</p:column>
</p:dataTable>
</html>