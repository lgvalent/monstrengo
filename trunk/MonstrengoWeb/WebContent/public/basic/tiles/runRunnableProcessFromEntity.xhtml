<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<!-- Uma variável 'entity' (IEntity) deve ser fornecida para esta visão -->
<!-- USO
		<ui:include src="/public/basic/tiles/runRunnableProcessFromEntity.xhtml">
            <ui:param name="entity" value="#{backBean.currentEntity}"/>
		</ui:include>
 -->
<h:outputText styleClass="noprint"
	value="Nenhum processo pode ser executado a partir de #{entity.info.label}"
	rendered="#{!runnableProcessBean.hasRunnableViewaForUser(entity)}" />
<h:panelGroup styleClass="noprint"
	rendered="#{runnableProcessBean.hasRunnableViewaForUser(entity)}">
	<h:dataTable value="#{runnableProcessBean.getRunnableViewsForUser(entity)}"
		var="runnableView">
		<h:column>
			<h:panelGroup
				rendered="#{runnableView.runnableProcessEntry.disabled}">
				<h:graphicImage value="../../public/basic/img/run_task_d.png" style="border:0" />
				<h:outputText
					value="#{runnableView.runnableProcessEntry.info.label()}"/>
				<h:outputText
					value="&lt;br&gt;#{runnableView.runnableProcessEntry.message.message}"
					styleClass="description" escape="false" />
			</h:panelGroup>
			<h:panelGroup
				rendered="#{!runnableView.runnableProcessEntry.disabled}">
				<h:commandLink
					action="#{runnableProcessBean.actionActivateView(runnableView.viewName, entity)}" target="_blank">
					<h:graphicImage value="../../public/basic/img/run_task.png" style="border:0" />
					<h:outputText
						value="#{runnableView.runnableProcessEntry.info.label()}"/>
				</h:commandLink>
				<h:outputText
					value="&lt;br&gt;&nbsp;&nbsp; #{runnableView.runnableProcessEntry.info.hint()}"
					styleClass="description" escape="false" />
			</h:panelGroup>
		</h:column>
	</h:dataTable>
</h:panelGroup>
</html>